### canvas生成图片大小问题
https://juejin.im/post/5d8f97ea5188250bdf5a382c
https://developers.weixin.qq.com/community/develop/doc/00042e7079cea8cda5488824f5b800
https://developers.weixin.qq.com/community/develop/doc/00048aa9e181282e68095dcf956800
https://blog.csdn.net/weixin_34319374/article/details/92504668

### 小程序的坑
1. 分享 - 弹框合成canvas - 如果在分享界面停留太久会导致canvas不能正常渲染，猜测是因为小程序内部对画布不出现在视图的情况下默认不渲染？参考微信小游戏...？
2. video组件里面使用cover-image, cover-view会导致，后面有弹框的操作被cover-image, cover-view覆盖，因为这层级最高
3. 部分机型在视频页有弹框时。普通的view，image会被视频盖住。 如果使用cover-image, cover-view来写弹框会导致超出视频部分被截断
4. video播放问题，小程序默认切换页面时会自动暂停视频，回来继续播放，如果是调到打赏页面触发打赏或者切出小程序（后台挂着），则小程序默认切换页面的自动暂停播放会失效
5. wx.requestSubscribeMessage订阅方法，不能用promise封装只能在事件中同步调用，前面不能有await的异步方法，此外只能用户发生点击行为或者发起支付回调后触发
6. 小程序的分享函数 onShareAppMessage 不能加上async 指定分享出去的图片和标题会失效
7. button上的默认边框效果去除 首先给button设置border：0是无效的。因为小程序中button的边框是用::after实现的，所以说想要去除button上的边框需要设置button::after{border：none}就可以
8. setData 频繁setData对性能不友好
9. 调用wx.hideTabbar隐藏原生tabbar导航栏时导致页面闪动
10. 组件里面传值使用 observer 会执行两次 就像vue的watch设置immediate

### 小程序渲染层与逻辑层交互原理
- 渲染层与逻辑层是分开的
- 不是直接通讯，是通过native层进行交互  -》 JSBridge调用微信原生方法

### 小程序运行机制与更新机制
1. 冷启动和热启动
 - 第一次打开微信小程序叫冷启动
 - 之前打开过然后被微信销毁再次打开
 - 从后台切到前台小程序没有销毁叫热启动

2. 更新机制
```javascript
  const updateManager = wx.getUpdateManager()
  // 检测版本更新
  updateManager.onCheckForUpdate((res)=>{
    if (res.hasUpdate){
      updateManager.onUpdateReady(()=>{
        wx.showModal({
          title: '更新提示',
          content: '新版本已经准备好，是否重启应用',
          success(res){
            if(res.confirm){
              updateManager.applyUpdate()
            }
          }
        })
      })
    }
  })
```

### 小程序性能与体验优化
- 小图用base64减少网络请求
- 对必要的网络请求做缓存
- IOS开启惯性滚动： -webkit-overflow-scrolling: touch
- 避免setData数据过大， 避免过于频繁调用
- 避免未绑定在wxml的变量绑定在setData

### 详解setData工作原理
- native

### 场景值scene的作用与应用场景


### 页面收录sitemap.json的作用与使用方法

### 小程序上线审核流程

